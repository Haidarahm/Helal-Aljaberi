import{_ as e,f as t}from"./index-BnVOmixq.js";var n=e(t(),1);function r(e){let t=(0,n.useRef)(null);return t.current===null&&(t.current=e()),t.current}var i=typeof window<`u`,a=i?n.useLayoutEffect:n.useEffect;function o(e,t){e.indexOf(t)===-1&&e.push(t)}function s(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var c=(e,t,n)=>n>t?t:n<e?e:n,l=()=>{},u=()=>{},d={},f=e=>e,p=(e,t)=>n=>t(e(n)),m=(...e)=>e.reduce(p),h=(e,t,n)=>{let r=t-e;return r===0?1:(n-e)/r},g=class{constructor(){this.subscriptions=[]}add(e){return o(this.subscriptions,e),()=>s(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}},_=e=>e*1e3,v=e=>e/1e3;function y(e,t){return t?e*(1e3/t):0}var b=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,x=1e-7,S=12;function C(e,t,n,r,i){let a,o,s=0;do o=t+(n-t)/2,a=b(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>x&&++s<S);return o}function w(e,t,n,r){if(e===t&&n===r)return f;let i=t=>C(t,0,1,e,n);return e=>e===0||e===1?e:b(i(e),t,r)}var ee=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,te=e=>t=>1-e(1-t),ne=w(.33,1.53,.69,.99),T=te(ne),re=ee(T),ie=e=>(e*=2)<1?.5*T(e):.5*(2-2**(-10*(e-1))),E=e=>1-Math.sin(Math.acos(e)),ae=te(E),oe=ee(E),se=w(.42,0,1,1),ce=w(0,0,.58,1),le=w(.42,0,.58,1),ue=e=>Array.isArray(e)&&typeof e[0]!=`number`,de=e=>Array.isArray(e)&&typeof e[0]==`number`,fe={linear:f,easeIn:se,easeInOut:le,easeOut:ce,circIn:E,circInOut:oe,circOut:ae,backIn:T,backInOut:re,backOut:ne,anticipate:ie},pe=e=>typeof e==`string`,me=e=>{if(de(e)){e.length;let[t,n,r,i]=e;return w(t,n,r,i)}else if(pe(e))return fe[e],`${e}`,fe[e];return e},D=[`setup`,`read`,`resolveKeyframes`,`preUpdate`,`update`,`preRender`,`render`,`postRender`],O={value:null,addProjectionMetrics:null};function he(e,t){let n=new Set,r=new Set,i=!1,a=!1,o=new WeakSet,s={delta:0,timestamp:0,isProcessing:!1},c=0;function l(t){o.has(t)&&(u.schedule(t),e()),c++,t(s)}let u={schedule:(e,t=!1,a=!1)=>{let s=a&&i?n:r;return t&&o.add(e),s.has(e)||s.add(e),e},cancel:e=>{r.delete(e),o.delete(e)},process:e=>{if(s=e,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),t&&O.value&&O.value.frameloop[t].push(c),c=0,n.clear(),i=!1,a&&(a=!1,u.process(e))}};return u}var ge=40;function _e(e,t){let n=!1,r=!0,i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=D.reduce((e,n)=>(e[n]=he(a,t?n:void 0),e),{}),{setup:s,read:c,resolveKeyframes:l,preUpdate:u,update:f,preRender:p,render:m,postRender:h}=o,g=()=>{let a=d.useManualTiming?i.timestamp:performance.now();n=!1,d.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,ge),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),c.process(i),l.process(i),u.process(i),f.process(i),p.process(i),m.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},_=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:D.reduce((e,t)=>{let r=o[t];return e[t]=(e,t=!1,i=!1)=>(n||_(),r.schedule(e,t,i)),e},{}),cancel:e=>{for(let t=0;t<D.length;t++)o[D[t]].cancel(e)},state:i,steps:o}}var{schedule:ve,cancel:ye,state:k,steps:be}=_e(typeof requestAnimationFrame<`u`?requestAnimationFrame:f,!0),A;function xe(){A=void 0}var j={now:()=>(A===void 0&&j.set(k.isProcessing||d.useManualTiming?k.timestamp:performance.now()),A),set:e=>{A=e,queueMicrotask(xe)}},M={layout:0,mainThread:0,waapi:0},Se=e=>t=>typeof t==`string`&&t.startsWith(e),Ce=Se(`--`),we=Se(`var(--`),Te=e=>we(e)?Ee.test(e.split(`/*`)[0].trim()):!1,Ee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,N={test:e=>typeof e==`number`,parse:parseFloat,transform:e=>e},P={...N,transform:e=>c(0,1,e)},De={...N,default:1},F=e=>Math.round(e*1e5)/1e5,I=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Oe(e){return e==null}var ke=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,L=(e,t)=>n=>!!(typeof n==`string`&&ke.test(n)&&n.startsWith(e)||t&&!Oe(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ae=(e,t,n)=>r=>{if(typeof r!=`string`)return r;let[i,a,o,s]=r.match(I);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:s===void 0?1:parseFloat(s)}},je=e=>c(0,255,e),R={...N,transform:e=>Math.round(je(e))},z={test:L(`rgb`,`red`),parse:Ae(`red`,`green`,`blue`),transform:({red:e,green:t,blue:n,alpha:r=1})=>`rgba(`+R.transform(e)+`, `+R.transform(t)+`, `+R.transform(n)+`, `+F(P.transform(r))+`)`};function Me(e){let t=``,n=``,r=``,i=``;return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var B={test:L(`#`),parse:Me,transform:z.transform},V=e=>({test:t=>typeof t==`string`&&t.endsWith(e)&&t.split(` `).length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ne=V(`deg`),H=V(`%`),Pe=V(`px`),Fe=V(`vh`),Ie=V(`vw`),Le=(()=>({...H,parse:e=>H.parse(e)/100,transform:e=>H.transform(e*100)}))(),U={test:L(`hsl`,`hue`),parse:Ae(`hue`,`saturation`,`lightness`),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>`hsla(`+Math.round(e)+`, `+H.transform(F(t))+`, `+H.transform(F(n))+`, `+F(P.transform(r))+`)`},W={test:e=>z.test(e)||B.test(e)||U.test(e),parse:e=>z.test(e)?z.parse(e):U.test(e)?U.parse(e):B.parse(e),transform:e=>typeof e==`string`?e:e.hasOwnProperty(`red`)?z.transform(e):U.transform(e),getAnimatableNone:e=>{let t=W.parse(e);return t.alpha=0,W.transform(t)}},Re=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ze(e){return isNaN(e)&&typeof e==`string`&&(e.match(I)?.length||0)+(e.match(Re)?.length||0)>0}var Be=`number`,Ve=`color`,He=`var`,Ue=`var(`,We="${}",Ge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function G(e){let t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[],a=0,o=t.replace(Ge,e=>(W.test(e)?(r.color.push(a),i.push(Ve),n.push(W.parse(e))):e.startsWith(Ue)?(r.var.push(a),i.push(He),n.push(e)):(r.number.push(a),i.push(Be),n.push(parseFloat(e))),++a,We)).split(We);return{values:n,split:o,indexes:r,types:i}}function Ke(e){return G(e).values}function qe(e){let{split:t,types:n}=G(e),r=t.length;return e=>{let i=``;for(let a=0;a<r;a++)if(i+=t[a],e[a]!==void 0){let t=n[a];t===Be?i+=F(e[a]):t===Ve?i+=W.transform(e[a]):i+=e[a]}return i}}var Je=e=>typeof e==`number`?0:W.test(e)?W.getAnimatableNone(e):e;function Ye(e){let t=Ke(e);return qe(e)(t.map(Je))}var Xe={test:ze,parse:Ke,createTransformer:qe,getAnimatableNone:Ye};function K(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ze({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=K(s,r,e+1/3),a=K(s,r,e),o=K(s,r,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function q(e,t){return n=>n>0?t:e}var J=(e,t,n)=>e+(t-e)*n,Y=(e,t,n)=>{let r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Qe=[B,z,U],$e=e=>Qe.find(t=>t.test(e));function et(e){let t=$e(e);if(`${e}`,!t)return!1;let n=t.parse(e);return t===U&&(n=Ze(n)),n}var tt=(e,t)=>{let n=et(e),r=et(t);if(!n||!r)return q(e,t);let i={...n};return e=>(i.red=Y(n.red,r.red,e),i.green=Y(n.green,r.green,e),i.blue=Y(n.blue,r.blue,e),i.alpha=J(n.alpha,r.alpha,e),z.transform(i))},nt=new Set([`none`,`hidden`]);function rt(e,t){return nt.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function it(e,t){return n=>J(e,t,n)}function at(e){return typeof e==`number`?it:typeof e==`string`?Te(e)?q:W.test(e)?tt:lt:Array.isArray(e)?ot:typeof e==`object`?W.test(e)?tt:st:q}function ot(e,t){let n=[...e],r=n.length,i=e.map((e,n)=>at(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function st(e,t){let n={...e,...t},r={};for(let i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=at(e[i])(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}}function ct(e,t){let n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let a=t.types[i],o=e.indexes[a][r[a]];n[i]=e.values[o]??0,r[a]++}return n}var lt=(e,t)=>{let n=Xe.createTransformer(t),r=G(e),i=G(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?nt.has(e)&&!i.values.length||nt.has(t)&&!r.values.length?rt(e,t):m(ot(ct(r,i),i.values),n):(`${e}${t}`,q(e,t))};function ut(e,t,n){return typeof e==`number`&&typeof t==`number`&&typeof n==`number`?J(e,t,n):at(e)(e,t)}var dt=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>ve.update(t,e),stop:()=>ye(t),now:()=>k.isProcessing?k.timestamp:j.now()}},ft=(e,t,n=10)=>{let r=``,i=Math.max(Math.round(t/n),2);for(let t=0;t<i;t++)r+=Math.round(e(t/(i-1))*1e4)/1e4+`, `;return`linear(${r.substring(0,r.length-2)})`},pt=2e4;function mt(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function ht(e,t=100,n){let r=n({...e,keyframes:[0,t]}),i=Math.min(mt(r),pt);return{type:`keyframes`,ease:e=>r.next(i*e).value/t,duration:v(i)}}var gt=5;function _t(e,t,n){let r=Math.max(t-gt,0);return y(n-e(r),t-r)}var X={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vt=.001;function yt({duration:e=X.duration,bounce:t=X.bounce,velocity:n=X.velocity,mass:r=X.mass}){let i,a;X.maxDuration;let o=1-t;o=c(X.minDamping,X.maxDamping,o),e=c(X.minDuration,X.maxDuration,v(e)),o<1?(i=t=>{let r=t*o,i=r*e,a=r-n,s=St(t,o),c=Math.exp(-i);return vt-a/s*c},a=t=>{let r=t*o*e,a=r*n+n,s=o**2*t**2*e,c=Math.exp(-r),l=St(t**2,o);return(-i(t)+vt>0?-1:1)*((a-s)*c)/l}):(i=t=>{let r=Math.exp(-t*e),i=(t-n)*e+1;return-vt+r*i},a=t=>{let r=Math.exp(-t*e),i=(n-t)*(e*e);return r*i});let s=5/e,l=xt(i,a,s);if(e=_(e),isNaN(l))return{stiffness:X.stiffness,damping:X.damping,duration:e};{let t=l**2*r;return{stiffness:t,damping:o*2*Math.sqrt(r*t),duration:e}}}var bt=12;function xt(e,t,n){let r=n;for(let n=1;n<bt;n++)r-=e(r)/t(r);return r}function St(e,t){return e*Math.sqrt(1-t*t)}var Ct=[`duration`,`bounce`],wt=[`stiffness`,`damping`,`mass`];function Tt(e,t){return t.some(t=>e[t]!==void 0)}function Et(e){let t={velocity:X.velocity,stiffness:X.stiffness,damping:X.damping,mass:X.mass,isResolvedFromDuration:!1,...e};if(!Tt(e,wt)&&Tt(e,Ct))if(e.visualDuration){let n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*c(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:X.mass,stiffness:i,damping:a}}else{let n=yt(e);t={...t,...n,mass:X.mass},t.isResolvedFromDuration=!0}return t}function Z(e=X.visualDuration,t=X.bounce){let n=typeof e==`object`?e:{visualDuration:e,keyframes:[0,1],bounce:t},{restSpeed:r,restDelta:i}=n,a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=Et({...n,velocity:-v(n.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(c*u)),g=o-a,y=v(Math.sqrt(c/u)),b=Math.abs(g)<5;r||=b?X.restSpeed.granular:X.restSpeed.default,i||=b?X.restDelta.granular:X.restDelta.default;let x;if(h<1){let e=St(y,h);x=t=>{let n=Math.exp(-h*y*t);return o-n*((m+h*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(h===1)x=e=>o-Math.exp(-y*e)*(g+(m+y*g)*e);else{let e=y*Math.sqrt(h*h-1);x=t=>{let n=Math.exp(-h*y*t),r=Math.min(e*t,300);return o-n*((m+h*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}let S={calculatedDuration:p&&d||null,next:e=>{let t=x(e);if(p)s.done=e>=d;else{let n=e===0?m:0;h<1&&(n=e===0?_(m):_t(x,e,t));let a=Math.abs(n)<=r,c=Math.abs(o-t)<=i;s.done=a&&c}return s.value=s.done?o:t,s},toString:()=>{let e=Math.min(mt(S),pt),t=ft(t=>S.next(e*t).value,e,30);return e+`ms `+t},toTransition:()=>{}};return S}Z.applyToOptions=e=>{let t=ht(e,100,Z);return e.ease=t.ease,e.duration=_(t.duration),e.type=`keyframes`,e};function Dt({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:c,restDelta:l=.5,restSpeed:u}){let d=e[0],f={done:!1,value:d},p=e=>s!==void 0&&e<s||c!==void 0&&e>c,m=e=>s===void 0?c:c===void 0||Math.abs(s-e)<Math.abs(c-e)?s:c,h=n*t,g=d+h,_=o===void 0?g:o(g);_!==g&&(h=_-d);let v=e=>-h*Math.exp(-e/r),y=e=>_+v(e),b=e=>{let t=v(e),n=y(e);f.done=Math.abs(t)<=l,f.value=f.done?_:n},x,S,C=e=>{p(f.value)&&(x=e,S=Z({keyframes:[f.value,m(f.value)],velocity:_t(y,e,f.value),damping:i,stiffness:a,restDelta:l,restSpeed:u}))};return C(0),{calculatedDuration:null,next:e=>{let t=!1;return!S&&x===void 0&&(t=!0,b(e),C(e)),x!==void 0&&e>=x?S.next(e-x):(!t&&b(e),f)}}}function Ot(e,t,n){let r=[],i=n||d.mix||ut,a=e.length-1;for(let n=0;n<a;n++){let a=i(e[n],e[n+1]);if(t){let e=Array.isArray(t)?t[n]||f:t;a=m(e,a)}r.push(a)}return r}function kt(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let a=e.length;if(t.length,a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];let o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let s=Ot(t,r,i),l=s.length,u=n=>{if(o&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);let i=h(e[r],e[r+1],n);return s[r](i)};return n?t=>u(c(e[0],e[a-1],t)):u}function At(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=h(0,t,r);e.push(J(n,1,i))}}function jt(e){let t=[0];return At(t,e.length-1),t}function Mt(e,t){return e.map(e=>e*t)}function Nt(e,t){return e.map(()=>t||le).splice(0,e.length-1)}function Q({duration:e=300,keyframes:t,times:n,ease:r=`easeInOut`}){let i=ue(r)?r.map(me):me(r),a={done:!1,value:t[0]},o=Mt(n&&n.length===t.length?n:jt(t),e),s=kt(o,t,{ease:Array.isArray(i)?i:Nt(t,i)});return{calculatedDuration:e,next:t=>(a.value=s(t),a.done=t>=e,a)}}var Pt=e=>e!==null;function Ft(e,{repeat:t,repeatType:n=`loop`},r,i=1){let a=e.filter(Pt),o=i<0||t&&n!==`loop`&&t%2==1?0:a.length-1;return!o||r===void 0?a[o]:r}var It={decay:Dt,inertia:Dt,tween:Q,keyframes:Q,spring:Z};function Lt(e){typeof e.type==`string`&&(e.type=It[e.type])}var Rt=class{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}},zt=e=>e/100,Bt=class extends Rt{constructor(e){super(),this.state=`idle`,this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==j.now()&&this.tick(j.now()),this.isStopped=!0,this.state!==`idle`&&(this.teardown(),this.options.onStop?.())},M.mainThread++,this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){let{options:e}=this;Lt(e);let{type:t=Q,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e,{keyframes:o}=e,s=t||Q;s!==Q&&typeof o[0]!=`number`&&(this.mixKeyframes=m(zt,ut(o[0],o[1])),o=[0,100]);let c=s({...e,keyframes:o});i===`mirror`&&(this.mirroredGenerator=s({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=mt(c));let{calculatedDuration:l}=c;this.calculatedDuration=l,this.resolvedDuration=l+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime===null?this.currentTime=t:this.currentTime=this.holdTime}tick(e,t=!1){let{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(this.startTime===null)return n.next(0);let{delay:l=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:p,type:m,onUpdate:h,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let _=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?_<0:_>r;this.currentTime=Math.max(_,0),this.state===`finished`&&this.holdTime===null&&(this.currentTime=r);let y=this.currentTime,b=n;if(d){let e=Math.min(this.currentTime,r)/o,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),n===1&&t--,t=Math.min(t,d+1),t%2&&(f===`reverse`?(n=1-n,p&&(n-=p/o)):f===`mirror`&&(b=a)),y=c(0,1,n)*o}let x=v?{done:!1,value:u[0]}:b.next(y);i&&(x.value=i(x.value));let{done:S}=x;!v&&s!==null&&(S=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);let C=this.holdTime===null&&(this.state===`finished`||this.state===`running`&&S);return C&&m!==Dt&&(x.value=Ft(u,this.options,g,this.speed)),h&&h(x.value),C&&this.finish(),x}then(e,t){return this.finished.then(e,t)}get duration(){return v(this.calculatedDuration)}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+v(e)}get time(){return v(this.currentTime)}set time(e){e=_(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(j.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=v(this.currentTime))}play(){if(this.isStopped)return;let{driver:e=dt,startTime:t}=this.options;this.driver||=e(e=>this.tick(e)),this.options.onPlay?.();let n=this.driver.now();this.state===`finished`?(this.updateFinished(),this.startTime=n):this.holdTime===null?this.startTime||=t??n:this.startTime=n-this.holdTime,this.state===`finished`&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state=`running`,this.driver.start()}pause(){this.state=`paused`,this.updateTime(j.now()),this.holdTime=this.currentTime}complete(){this.state!==`running`&&this.play(),this.state=`finished`,this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state=`finished`,this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state=`idle`,this.stopDriver(),this.startTime=this.holdTime=null,M.mainThread--}stopDriver(){this.driver&&=(this.driver.stop(),void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type=`keyframes`,this.options.ease=`linear`,this.initAnimation()),this.driver?.stop(),e.observe(this)}};function Vt(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e==`string`){let r=document;t&&(r=t.current);let i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}var Ht=30,Ut=e=>!isNaN(parseFloat(e)),$={current:void 0},Wt=class{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=j.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=j.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ut(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on(`change`,e)}on(e,t){this.events[e]||(this.events[e]=new g);let n=this.events[e].add(t);return e===`change`?()=>{n(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||=new Set,this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return $.current&&$.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){let e=j.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ht)return 0;let t=Math.min(this.updatedAt-this.prevUpdatedAt,Ht);return y(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Gt(e,t){return new Wt(e,t)}var Kt=e=>!!(e&&e.getVelocity),qt=(0,n.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:`never`});export{a as $,ye as A,re as B,P as C,Te as D,Ce as E,O as F,m as G,_ as H,de as I,u as J,f as K,oe as L,k as M,be as N,M as O,_e as P,s as Q,ae as R,I as S,De as T,g as U,v as V,h as W,c as X,l as Y,o as Z,H as _,Vt as a,Fe as b,Lt as c,ft as d,i as et,J as f,Ne as g,W as h,Gt as i,ve as j,j as k,Ft as l,Xe as m,Kt as n,Bt as o,G as p,d as q,$ as r,Rt as s,qt as t,r as tt,kt as u,Le as v,N as w,Ie as x,Pe as y,ie as z};