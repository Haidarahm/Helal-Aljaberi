import{_ as e,f as t}from"./index-BnVOmixq.js";import{$t as n,At as r,Bt as i,Ct as a,Dt as o,Ft as s,Gt as c,It as l,Kt as u,Lt as d,Mt as f,Nt as p,Pt as m,Qt as h,R as g,Rt as _,Ut as v,V as y,Vt as b,Xt as ee,Zt as x,_ as te,g as S,it as C,w as ne,zt as w}from"./ContextIsolator-wLiDs3rz.js";var T=e(t()),E=T.createContext(null);function re(e){var t=e.children,n=e.onBatchResize,r=T.useRef(0),i=T.useRef([]),a=T.useContext(E),o=T.useCallback(function(e,t,o){r.current+=1;var s=r.current;i.current.push({size:e,element:t,data:o}),Promise.resolve().then(function(){s===r.current&&(n?.(i.current),i.current=[])}),a?.(e,t,o)},[n,a]);return T.createElement(E.Provider,{value:o},t)}var ie=(function(){if(typeof Map<`u`)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t?(n=r,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,`size`,{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){t===void 0&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()})(),ae=typeof window<`u`&&typeof document<`u`&&window.document===document,D=(function(){return typeof global<`u`&&global.Math===Math?global:typeof self<`u`&&self.Math===Math?self:typeof window<`u`&&window.Math===Math?window:Function(`return this`)()})(),oe=(function(){return typeof requestAnimationFrame==`function`?requestAnimationFrame.bind(D):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}})(),se=2;function ce(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function o(){oe(a)}function s(){var e=Date.now();if(n){if(e-i<se)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return s}var le=20,ue=[`top`,`right`,`bottom`,`left`,`width`,`height`,`size`,`weight`],de=typeof MutationObserver<`u`,O=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=ce(this.refresh.bind(this),le)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){!ae||this.connected_||(document.addEventListener(`transitionend`,this.onTransitionEnd_),window.addEventListener(`resize`,this.refresh),de?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener(`DOMSubtreeModified`,this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!ae||!this.connected_||(document.removeEventListener(`transitionend`,this.onTransitionEnd_),window.removeEventListener(`resize`,this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener(`DOMSubtreeModified`,this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=t===void 0?``:t;ue.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||=new e,this.instance_},e.instance_=null,e}(),k=(function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e}),A=(function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||D}),j=I(0,0,0,0);function fe(e){return parseFloat(e)||0}function pe(e){return[...arguments].slice(1).reduce(function(t,n){var r=e[`border-`+n+`-width`];return t+fe(r)},0)}function M(e){for(var t=[`top`,`right`,`bottom`,`left`],n={},r=0,i=t;r<i.length;r++){var a=i[r],o=e[`padding-`+a];n[a]=fe(o)}return n}function me(e){var t=e.getBBox();return I(0,0,t.width,t.height)}function he(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return j;var r=A(e).getComputedStyle(e),i=M(r),a=i.left+i.right,o=i.top+i.bottom,s=fe(r.width),c=fe(r.height);if(r.boxSizing===`border-box`&&(Math.round(s+a)!==t&&(s-=pe(r,`left`,`right`)+a),Math.round(c+o)!==n&&(c-=pe(r,`top`,`bottom`)+o)),!ge(e)){var l=Math.round(s+a)-t,u=Math.round(c+o)-n;Math.abs(l)!==1&&(s-=l),Math.abs(u)!==1&&(c-=u)}return I(i.left,i.top,s,c)}var N=(function(){return typeof SVGGraphicsElement<`u`?function(e){return e instanceof A(e).SVGGraphicsElement}:function(e){return e instanceof A(e).SVGElement&&typeof e.getBBox==`function`}})();function ge(e){return e===A(e).document.documentElement}function P(e){return ae?N(e)?me(e):he(e):j}function F(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=typeof DOMRectReadOnly<`u`?DOMRectReadOnly:Object,o=Object.create(a.prototype);return k(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}function I(e,t,n,r){return{x:e,y:t,width:n,height:r}}var _e=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=I(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=P(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),L=function(){function e(e,t){var n=F(t);k(this,{target:e,contentRect:n})}return e}(),R=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new ie,typeof e!=`function`)throw TypeError(`The callback provided as parameter 1 is not a function.`);this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw TypeError(`1 argument required, but only 0 present.`);if(!(typeof Element>`u`||!(Element instanceof Object))){if(!(e instanceof A(e).Element))throw TypeError(`parameter 1 is not of type "Element".`);var t=this.observations_;t.has(e)||(t.set(e,new _e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw TypeError(`1 argument required, but only 0 present.`);if(!(typeof Element>`u`||!(Element instanceof Object))){if(!(e instanceof A(e).Element))throw TypeError(`parameter 1 is not of type "Element".`);var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new L(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),z=typeof WeakMap<`u`?new WeakMap:new ie,ve=function(){function e(t){if(!(this instanceof e))throw TypeError(`Cannot call a class as a function.`);if(!arguments.length)throw TypeError(`1 argument required, but only 0 present.`);var n=O.getInstance(),r=new R(t,n,this);z.set(this,r)}return e}();[`observe`,`unobserve`,`disconnect`].forEach(function(e){ve.prototype[e]=function(){var t;return(t=z.get(this))[e].apply(t,arguments)}});var ye=(function(){return D.ResizeObserver===void 0?ve:D.ResizeObserver})(),B=new Map;function V(e){e.forEach(function(e){var t,n=e.target;(t=B.get(n))==null||t.forEach(function(e){return e(n)})})}var H=new ye(V);function be(e,t){B.has(e)||(B.set(e,new Set),H.observe(e)),B.get(e).add(t)}function xe(e,t){B.has(e)&&(B.get(e).delete(t),B.get(e).size||(H.unobserve(e),B.delete(e)))}var Se=function(e){m(n,e);var t=p(n);function n(){return l(this,n),t.apply(this,arguments)}return s(n,[{key:`render`,value:function(){return this.props.children}}]),n}(T.Component);function Ce(e,t){var n=e.children,r=e.disabled,a=T.useRef(null),o=T.useRef(null),s=T.useContext(E),c=typeof n==`function`,l=c?n(a):n,d=T.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!c&&T.isValidElement(l)&&i(l),p=f?w(l):null,m=b(p,a),h=function(){return v(a.current)||(a.current&&x(a.current)===`object`?v(a.current?.nativeElement):null)||v(o.current)};T.useImperativeHandle(t,function(){return h()});var g=T.useRef(e);g.current=e;var _=T.useCallback(function(e){var t=g.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,o=i.height,c=e.offsetWidth,l=e.offsetHeight,f=Math.floor(a),p=Math.floor(o);if(d.current.width!==f||d.current.height!==p||d.current.offsetWidth!==c||d.current.offsetHeight!==l){var m={width:f,height:p,offsetWidth:c,offsetHeight:l};d.current=m;var h=c===Math.round(a)?a:c,_=l===Math.round(o)?o:l,v=u(u({},m),{},{offsetWidth:h,offsetHeight:_});s?.(v,e,r),n&&Promise.resolve().then(function(){n(v,e)})}},[]);return T.useEffect(function(){var e=h();return e&&!r&&be(e,_),function(){return xe(e,_)}},[a.current,r]),T.createElement(Se,{ref:o},f?T.cloneElement(l,{ref:m}):l)}var we=T.forwardRef(Ce),Te=`rc-observer-key`;function Ee(e,t){var n=e.children;return(typeof n==`function`?[n]:ee(n)).map(function(n,r){var i=n?.key||`${Te}-${r}`;return T.createElement(we,h({},e,{key:i,ref:r===0?t:void 0}),n)})}var U=T.forwardRef(Ee);U.Collection=re;var W=U,G=(function(){if(typeof navigator>`u`||typeof window>`u`)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e?.substr(0,4))}),De=e(n());function Oe(e){var t=e.prefixCls,n=e.align,r=e.arrow,i=e.arrowPos,a=r||{},o=a.className,s=a.content,c=i.x,l=c===void 0?0:c,u=i.y,d=u===void 0?0:u,f=T.useRef();if(!n||!n.points)return null;var p={position:`absolute`};if(n.autoArrow!==!1){var m=n.points[0],h=n.points[1],g=m[0],_=m[1],v=h[0],y=h[1];g===v||![`t`,`b`].includes(g)?p.top=d:g===`t`?p.top=0:p.bottom=0,_===y||![`l`,`r`].includes(_)?p.left=l:_===`l`?p.left=0:p.right=0}return T.createElement(`div`,{ref:f,className:(0,De.default)(`${t}-arrow`,o),style:p},s)}var ke=e(n());function K(e){var t=e.prefixCls,n=e.open,r=e.zIndex,i=e.mask,a=e.motion;return i?T.createElement(y,h({},a,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(e){var n=e.className;return T.createElement(`div`,{style:{zIndex:r},className:(0,ke.default)(`${t}-mask`,n)})}):null}var q=T.memo(function(e){return e.children},function(e,t){return t.cache}),J=e(n()),Ae=T.forwardRef(function(e,t){var n=e.popup,i=e.className,o=e.prefixCls,s=e.style,c=e.target,l=e.onVisibleChanged,f=e.open,p=e.keepDom,m=e.fresh,g=e.onClick,_=e.mask,v=e.arrow,b=e.arrowPos,ee=e.align,x=e.motion,te=e.maskMotion,S=e.forceRender,C=e.getPopupContainer,ne=e.autoDestroy,w=e.portal,E=e.zIndex,re=e.onMouseEnter,ie=e.onMouseLeave,ae=e.onPointerEnter,D=e.onPointerDownCapture,oe=e.ready,se=e.offsetX,ce=e.offsetY,le=e.offsetR,ue=e.offsetB,de=e.onAlign,O=e.onPrepare,k=e.stretch,A=e.targetWidth,j=e.targetHeight,fe=typeof n==`function`?n():n,pe=f||p,M=C?.length>0,me=T.useState(!C||!M),he=r(me,2),N=he[0],ge=he[1];if(a(function(){!N&&M&&c&&ge(!0)},[N,M,c]),!N)return null;var P=`auto`,F={left:`-1000vw`,top:`-1000vh`,right:P,bottom:P};if(oe||!f){var I=ee.points,_e=ee.dynamicInset||ee._experimental?.dynamicInset,L=_e&&I[0][1]===`r`,R=_e&&I[0][0]===`b`;L?(F.right=le,F.left=P):(F.left=se,F.right=P),R?(F.bottom=ue,F.top=P):(F.top=ce,F.bottom=P)}var z={};return k&&(k.includes(`height`)&&j?z.height=j:k.includes(`minHeight`)&&j&&(z.minHeight=j),k.includes(`width`)&&A?z.width=A:k.includes(`minWidth`)&&A&&(z.minWidth=A)),f||(z.pointerEvents=`none`),T.createElement(w,{open:S||pe,getContainer:C&&function(){return C(c)},autoDestroy:ne},T.createElement(K,{prefixCls:o,open:f,zIndex:E,mask:_,motion:te}),T.createElement(W,{onResize:de,disabled:!f},function(e){return T.createElement(y,h({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:S,leavedClassName:`${o}-hidden`},x,{onAppearPrepare:O,onEnterPrepare:O,visible:f,onVisibleChanged:function(e){var t;x==null||(t=x.onVisibleChanged)==null||t.call(x,e),l(e)}}),function(n,r){var a=n.className,c=n.style,l=(0,J.default)(o,a,i);return T.createElement(`div`,{ref:d(e,t,r),className:l,style:u(u(u(u({"--arrow-x":`${b.x||0}px`,"--arrow-y":`${b.y||0}px`},F),z),c),{},{boxSizing:`border-box`,zIndex:E},s),onMouseEnter:re,onMouseLeave:ie,onPointerEnter:ae,onClick:g,onPointerDownCapture:D},v&&T.createElement(Oe,{prefixCls:o,arrow:v,arrowPos:b,align:ee}),T.createElement(q,{cache:!f&&!m},fe))})}))}),je=T.forwardRef(function(e,t){var n=e.children,r=e.getTriggerDOMNode,a=i(n),o=T.useCallback(function(e){_(t,r?r(e):e)},[r]),s=b(o,w(n));return a?T.cloneElement(n,{ref:s}):n}),Me=T.createContext(null);function Ne(e){return e?Array.isArray(e)?e:[e]:[]}function Pe(e,t,n,r){return T.useMemo(function(){var i=Ne(n??t),a=Ne(r??t),o=new Set(i),s=new Set(a);return e&&(o.has(`hover`)&&(o.delete(`hover`),o.add(`click`)),s.has(`hover`)&&(s.delete(`hover`),s.add(`click`))),[o,s]},[e,t,n,r])}function Fe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return arguments.length>2&&arguments[2]?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Ie(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var s=a[o];if(Fe(e[s]?.points,i,r))return`${t}-placement-${s}`}return``}function Le(e,t,n,r){return t||(n?{motionName:`${e}-${n}`}:r?{motionName:r}:null)}function Re(e){return e.ownerDocument.defaultView}function ze(e){for(var t=[],n=e?.parentElement,r=[`hidden`,`scroll`,`clip`,`auto`];n;){var i=Re(n).getComputedStyle(n),a=i.overflowX,o=i.overflowY,s=i.overflow;[a,o,s].some(function(e){return r.includes(e)})&&t.push(n),n=n.parentElement}return t}function Y(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?t:e}function X(e){return Y(parseFloat(e),0)}function Be(e,t){var n=u({},e);return(t||[]).forEach(function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Re(e).getComputedStyle(e),r=t.overflow,i=t.overflowClipMargin,a=t.borderTopWidth,o=t.borderBottomWidth,s=t.borderLeftWidth,c=t.borderRightWidth,l=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,f=e.offsetWidth,p=e.clientWidth,m=X(a),h=X(o),g=X(s),_=X(c),v=Y(Math.round(l.width/f*1e3)/1e3),y=Y(Math.round(l.height/u*1e3)/1e3),b=(f-p-g-_)*v,ee=(u-d-m-h)*y,x=m*y,te=h*y,S=g*v,C=_*v,ne=0,w=0;if(r===`clip`){var T=X(i);ne=T*v,w=T*y}var E=l.x+S-ne,re=l.y+x-w,ie=E+l.width+2*ne-S-C-b,ae=re+l.height+2*w-x-te-ee;n.left=Math.max(n.left,E),n.top=Math.max(n.top,re),n.right=Math.min(n.right,ie),n.bottom=Math.min(n.bottom,ae)}}),n}function Ve(e){var t=`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:0}`,n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function He(e,t){var n=r(t||[],2),i=n[0],a=n[1];return[Ve(e.width,i),Ve(e.height,a)]}function Ue(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:``;return[e[0],e[1]]}function We(e,t){var n=t[0],r=t[1],i,a=n===`t`?e.y:n===`b`?e.y+e.height:e.y+e.height/2;return i=r===`l`?e.x:r===`r`?e.x+e.width:e.x+e.width/2,{x:i,y:a}}function Ge(e,t){var n={t:`b`,b:`t`,l:`r`,r:`l`};return e.map(function(e,r){return r===t?n[e]||`c`:e}).join(``)}function Ke(e,t,n,i,o,s,l){var d=T.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[i]||{}}),f=r(d,2),p=f[0],m=f[1],h=T.useRef(0),g=T.useMemo(function(){return t?ze(t):[]},[t]),_=T.useRef({});e||function(){_.current={}}();var v=C(function(){if(t&&n&&e){var a,d,f=t,p=f.ownerDocument,h=Re(f),v=h.getComputedStyle(f).position,y=f.style.left,b=f.style.top,ee=f.style.right,x=f.style.bottom,te=f.style.overflow,S=u(u({},o[i]),s),C=p.createElement(`div`);(a=f.parentElement)==null||a.appendChild(C),C.style.left=`${f.offsetLeft}px`,C.style.top=`${f.offsetTop}px`,C.style.position=v,C.style.height=`${f.offsetHeight}px`,C.style.width=`${f.offsetWidth}px`,f.style.left=`0`,f.style.top=`0`,f.style.right=`auto`,f.style.bottom=`auto`,f.style.overflow=`hidden`;var w;if(Array.isArray(n))w={x:n[0],y:n[1],width:0,height:0};else{var T=n.getBoundingClientRect();T.x=T.x??T.left,T.y=T.y??T.top,w={x:T.x,y:T.y,width:T.width,height:T.height}}var E=f.getBoundingClientRect(),re=h.getComputedStyle(f),ie=re.height,ae=re.width;E.x=E.x??E.left,E.y=E.y??E.top;var D=p.documentElement,oe=D.clientWidth,se=D.clientHeight,ce=D.scrollWidth,le=D.scrollHeight,ue=D.scrollTop,de=D.scrollLeft,O=E.height,k=E.width,A=w.height,j=w.width,fe={left:0,top:0,right:oe,bottom:se},pe={left:-de,top:-ue,right:ce-de,bottom:le-ue},M=S.htmlRegion,me=`visible`,he=`visibleFirst`;M!==`scroll`&&M!==he&&(M=me);var N=M===he,ge=Be(pe,g),P=Be(fe,g),F=M===me?P:ge,I=N?P:F;f.style.left=`auto`,f.style.top=`auto`,f.style.right=`0`,f.style.bottom=`0`;var _e=f.getBoundingClientRect();f.style.left=y,f.style.top=b,f.style.right=ee,f.style.bottom=x,f.style.overflow=te,(d=f.parentElement)==null||d.removeChild(C);var L=Y(Math.round(k/parseFloat(ae)*1e3)/1e3),R=Y(Math.round(O/parseFloat(ie)*1e3)/1e3);if(L===0||R===0||c(n)&&!ne(n))return;var z=S.offset,ve=S.targetOffset,ye=He(E,z),B=r(ye,2),V=B[0],H=B[1],be=He(w,ve),xe=r(be,2),Se=xe[0],Ce=xe[1];w.x-=Se,w.y-=Ce;var we=S.points||[],Te=r(we,2),Ee=Te[0],U=Te[1],W=Ue(U),G=Ue(Ee),De=We(w,W),Oe=We(E,G),ke=u({},S),K=De.x-Oe.x+V,q=De.y-Oe.y+H;function e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F,r=E.x+e,i=E.y+t,a=r+k,o=i+O,s=Math.max(r,n.left),c=Math.max(i,n.top),l=Math.min(a,n.right),u=Math.min(o,n.bottom);return Math.max(0,(l-s)*(u-c))}var J=e(K,q),Ae=e(K,q,P),je=We(w,[`t`,`l`]),Me=We(E,[`t`,`l`]),Ne=We(w,[`b`,`r`]),Pe=We(E,[`b`,`r`]),Fe=S.overflow||{},Ie=Fe.adjustX,Le=Fe.adjustY,ze=Fe.shiftX,X=Fe.shiftY,Ve=function(e){return typeof e==`boolean`?e:e>=0},Ke,qe,Je,Ye;function wt(){Ke=E.y+q,qe=Ke+O,Je=E.x+K,Ye=Je+k}wt();var Xe=Ve(Le),Ze=G[0]===W[0];if(Xe&&G[0]===`t`&&(qe>I.bottom||_.current.bt)){var Z=q;Ze?Z-=O-A:Z=je.y-Pe.y-H;var Qe=e(K,Z),$e=e(K,Z,P);Qe>J||Qe===J&&(!N||$e>=Ae)?(_.current.bt=!0,q=Z,H=-H,ke.points=[Ge(G,0),Ge(W,0)]):_.current.bt=!1}if(Xe&&G[0]===`b`&&(Ke<I.top||_.current.tb)){var et=q;Ze?et+=O-A:et=Ne.y-Me.y-H;var tt=e(K,et),nt=e(K,et,P);tt>J||tt===J&&(!N||nt>=Ae)?(_.current.tb=!0,q=et,H=-H,ke.points=[Ge(G,0),Ge(W,0)]):_.current.tb=!1}var rt=Ve(Ie),Q=G[1]===W[1];if(rt&&G[1]===`l`&&(Ye>I.right||_.current.rl)){var it=K;Q?it-=k-j:it=je.x-Pe.x-V;var at=e(it,q),ot=e(it,q,P);at>J||at===J&&(!N||ot>=Ae)?(_.current.rl=!0,K=it,V=-V,ke.points=[Ge(G,1),Ge(W,1)]):_.current.rl=!1}if(rt&&G[1]===`r`&&(Je<I.left||_.current.lr)){var st=K;Q?st+=k-j:st=Ne.x-Me.x-V;var ct=e(st,q),lt=e(st,q,P);ct>J||ct===J&&(!N||lt>=Ae)?(_.current.lr=!0,K=st,V=-V,ke.points=[Ge(G,1),Ge(W,1)]):_.current.lr=!1}wt();var ut=ze===!0?0:ze;typeof ut==`number`&&(Je<P.left&&(K-=Je-P.left-V,w.x+j<P.left+ut&&(K+=w.x-P.left+j-ut)),Ye>P.right&&(K-=Ye-P.right-V,w.x>P.right-ut&&(K+=w.x-P.right+ut)));var dt=X===!0?0:X;typeof dt==`number`&&(Ke<P.top&&(q-=Ke-P.top-H,w.y+A<P.top+dt&&(q+=w.y-P.top+A-dt)),qe>P.bottom&&(q-=qe-P.bottom-H,w.y>P.bottom-dt&&(q+=w.y-P.bottom+dt)));var ft=E.x+K,pt=ft+k,mt=E.y+q,ht=mt+O,gt=w.x,_t=gt+j,$=w.y,vt=$+A,yt=(Math.max(ft,gt)+Math.min(pt,_t))/2-ft,bt=(Math.max(mt,$)+Math.min(ht,vt))/2-mt;l?.(t,ke);var xt=_e.right-E.x-(K+E.width),St=_e.bottom-E.y-(q+E.height);L===1&&(K=Math.round(K),xt=Math.round(xt)),R===1&&(q=Math.round(q),St=Math.round(St));var Ct={ready:!0,offsetX:K/L,offsetY:q/R,offsetR:xt/L,offsetB:St/R,arrowX:yt/L,arrowY:bt/R,scaleX:L,scaleY:R,align:ke};m(Ct)}}),y=function(){h.current+=1;var e=h.current;Promise.resolve().then(function(){h.current===e&&v()})},b=function(){m(function(e){return u(u({},e),{},{ready:!1})})};return a(b,[i]),a(function(){e||b()},[e]),[p.ready,p.offsetX,p.offsetY,p.offsetR,p.offsetB,p.arrowX,p.arrowY,p.scaleX,p.scaleY,p.align,y]}function qe(e,t,n,r,i){a(function(){if(e&&t&&n){var a=t,o=n,s=ze(a),c=ze(o),l=Re(o),u=new Set([l].concat(f(s),f(c)));function e(){r(),i()}return u.forEach(function(t){t.addEventListener(`scroll`,e,{passive:!0})}),l.addEventListener(`resize`,e,{passive:!0}),r(),function(){u.forEach(function(t){t.removeEventListener(`scroll`,e),l.removeEventListener(`resize`,e)})}}},[e,t,n])}function Je(e,t,n,r,i,a,o,s){var c=T.useRef(e);c.current=e;var l=T.useRef(!1);T.useEffect(function(){if(t&&r&&(!i||a)){var e=function(){l.current=!1},u=function(e){var t;c.current&&!o(((t=e.composedPath)==null||(t=t.call(e))==null?void 0:t[0])||e.target)&&!l.current&&s(!1)},d=Re(r);d.addEventListener(`pointerdown`,e,!0),d.addEventListener(`mousedown`,u,!0),d.addEventListener(`contextmenu`,u,!0);var f=g(n);return f&&(f.addEventListener(`mousedown`,u,!0),f.addEventListener(`contextmenu`,u,!0)),function(){d.removeEventListener(`pointerdown`,e,!0),d.removeEventListener(`mousedown`,u,!0),d.removeEventListener(`contextmenu`,u,!0),f&&(f.removeEventListener(`mousedown`,u,!0),f.removeEventListener(`contextmenu`,u,!0))}}},[t,n,r,i,a]);function u(){l.current=!0}return u}var Ye=e(n()),Xe=`prefixCls.children.action.showAction.hideAction.popupVisible.defaultPopupVisible.onPopupVisibleChange.afterPopupVisibleChange.mouseEnterDelay.mouseLeaveDelay.focusDelay.blurDelay.mask.maskClosable.getPopupContainer.forceRender.autoDestroy.destroyPopupOnHide.popup.popupClassName.popupStyle.popupPlacement.builtinPlacements.popupAlign.zIndex.stretch.getPopupClassNameFromAlign.fresh.alignPoint.onPopupClick.onPopupAlign.arrow.popupMotion.maskMotion.popupTransitionName.popupAnimation.maskTransitionName.maskAnimation.className.getTriggerDOMNode`.split(`.`);function Ze(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:te;return T.forwardRef(function(t,n){var i=t.prefixCls,s=i===void 0?`rc-trigger-popup`:i,l=t.children,d=t.action,f=d===void 0?`hover`:d,p=t.showAction,m=t.hideAction,h=t.popupVisible,_=t.defaultPopupVisible,v=t.onPopupVisibleChange,y=t.afterPopupVisibleChange,b=t.mouseEnterDelay,ee=t.mouseLeaveDelay,x=ee===void 0?.1:ee,te=t.focusDelay,ne=t.blurDelay,w=t.mask,E=t.maskClosable,re=E===void 0?!0:E,ie=t.getPopupContainer,ae=t.forceRender,D=t.autoDestroy,oe=t.destroyPopupOnHide,se=t.popup,ce=t.popupClassName,le=t.popupStyle,ue=t.popupPlacement,de=t.builtinPlacements,O=de===void 0?{}:de,k=t.popupAlign,A=t.zIndex,j=t.stretch,fe=t.getPopupClassNameFromAlign,pe=t.fresh,M=t.alignPoint,me=t.onPopupClick,he=t.onPopupAlign,N=t.arrow,ge=t.popupMotion,P=t.maskMotion,F=t.popupTransitionName,I=t.popupAnimation,_e=t.maskTransitionName,L=t.maskAnimation,R=t.className,z=t.getTriggerDOMNode,ve=o(t,Xe),ye=D||oe||!1,B=T.useState(!1),V=r(B,2),H=V[0],be=V[1];a(function(){be(G())},[]);var xe=T.useRef({}),Se=T.useContext(Me),Ce=T.useMemo(function(){return{registerSubPopup:function(e,t){xe.current[e]=t,Se?.registerSubPopup(e,t)}}},[Se]),we=S(),Te=T.useState(null),Ee=r(Te,2),U=Ee[0],De=Ee[1],Oe=T.useRef(null),ke=C(function(e){Oe.current=e,c(e)&&U!==e&&De(e),Se?.registerSubPopup(we,e)}),K=T.useState(null),q=r(K,2),J=q[0],Ne=q[1],Fe=T.useRef(null),Re=C(function(e){c(e)&&J!==e&&(Ne(e),Fe.current=e)}),ze=T.Children.only(l),Y=ze?.props||{},X={},Be=C(function(e){var t=J;return t?.contains(e)||g(t)?.host===e||e===t||U?.contains(e)||g(U)?.host===e||e===U||Object.values(xe.current).some(function(t){return t?.contains(e)||e===t})}),Ve=Le(s,ge,I,F),He=Le(s,P,L,_e),Ue=T.useState(_||!1),We=r(Ue,2),Ge=We[0],Ze=We[1],Z=h??Ge,Qe=C(function(e){h===void 0&&Ze(e)});a(function(){Ze(h||!1)},[h]);var $e=T.useRef(Z);$e.current=Z;var et=T.useRef([]);et.current=[];var tt=C(function(e){Qe(e),(et.current[et.current.length-1]??Z)!==e&&(et.current.push(e),v?.(e))}),nt=T.useRef(),rt=function(){clearTimeout(nt.current)},Q=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;rt(),t===0?tt(e):nt.current=setTimeout(function(){tt(e)},t*1e3)};T.useEffect(function(){return rt},[]);var it=T.useState(!1),at=r(it,2),ot=at[0],st=at[1];a(function(e){(!e||Z)&&st(!0)},[Z]);var ct=T.useState(null),lt=r(ct,2),ut=lt[0],dt=lt[1],ft=T.useState(null),pt=r(ft,2),mt=pt[0],ht=pt[1],gt=function(e){ht([e.clientX,e.clientY])},_t=Ke(Z,U,M&&mt!==null?mt:J,ue,O,k,he),$=r(_t,11),vt=$[0],yt=$[1],bt=$[2],xt=$[3],St=$[4],Ct=$[5],wt=$[6],Tt=$[7],Et=$[8],Dt=$[9],Ot=$[10],kt=Pe(H,f,p,m),At=r(kt,2),jt=At[0],Mt=At[1],Nt=jt.has(`click`),Pt=Mt.has(`click`)||Mt.has(`contextMenu`),Ft=C(function(){ot||Ot()});qe(Z,J,U,Ft,function(){$e.current&&M&&Pt&&Q(!1)}),a(function(){Ft()},[mt,ue]),a(function(){Z&&!(O!=null&&O[ue])&&Ft()},[JSON.stringify(k)]);var It=T.useMemo(function(){var e=Ie(O,s,Dt,M);return(0,Ye.default)(e,fe?.(Dt))},[Dt,fe,O,s,M]);T.useImperativeHandle(n,function(){return{nativeElement:Fe.current,popupElement:Oe.current,forceAlign:Ft}});var Lt=T.useState(0),Rt=r(Lt,2),zt=Rt[0],Bt=Rt[1],Vt=T.useState(0),Ht=r(Vt,2),Ut=Ht[0],Wt=Ht[1],Gt=function(){if(j&&J){var e=J.getBoundingClientRect();Bt(e.width),Wt(e.height)}},Kt=function(){Gt(),Ft()},qt=function(e){st(!1),Ot(),y?.(e)},Jt=function(){return new Promise(function(e){Gt(),dt(function(){return e})})};a(function(){ut&&(Ot(),ut(),dt(null))},[ut]);function Yt(e,t,n,r){X[e]=function(i){var a;r?.(i),Q(t,n);var o=[...arguments].slice(1);(a=Y[e])==null||a.call.apply(a,[Y,i].concat(o))}}(Nt||Pt)&&(X.onClick=function(e){var t;$e.current&&Pt?Q(!1):!$e.current&&Nt&&(gt(e),Q(!0));var n=[...arguments].slice(1);(t=Y.onClick)==null||t.call.apply(t,[Y,e].concat(n))});var Xt=Je(Z,Pt,J,U,w,re,Be,Q),Zt=jt.has(`hover`),Qt=Mt.has(`hover`),$t,en;Zt&&(Yt(`onMouseEnter`,!0,b,function(e){gt(e)}),Yt(`onPointerEnter`,!0,b,function(e){gt(e)}),$t=function(e){(Z||ot)&&U!=null&&U.contains(e.target)&&Q(!0,b)},M&&(X.onMouseMove=function(e){var t;(t=Y.onMouseMove)==null||t.call(Y,e)})),Qt&&(Yt(`onMouseLeave`,!1,x),Yt(`onPointerLeave`,!1,x),en=function(){Q(!1,x)}),jt.has(`focus`)&&Yt(`onFocus`,!0,te),Mt.has(`focus`)&&Yt(`onBlur`,!1,ne),jt.has(`contextMenu`)&&(X.onContextMenu=function(e){var t;$e.current&&Mt.has(`contextMenu`)?Q(!1):(gt(e),Q(!0)),e.preventDefault();var n=[...arguments].slice(1);(t=Y.onContextMenu)==null||t.call.apply(t,[Y,e].concat(n))}),R&&(X.className=(0,Ye.default)(Y.className,R));var tn=T.useRef(!1);tn.current||=ae||Z||ot;var nn=u(u({},Y),X),rn={};[`onContextMenu`,`onClick`,`onMouseDown`,`onTouchStart`,`onMouseEnter`,`onMouseLeave`,`onFocus`,`onBlur`].forEach(function(e){ve[e]&&(rn[e]=function(){var t,n=[...arguments];(t=nn[e])==null||t.call.apply(t,[nn].concat(n)),ve[e].apply(ve,n)})});var an=T.cloneElement(ze,u(u({},nn),rn)),on={x:Ct,y:wt},sn=N?u({},N===!0?{}:N):null;return T.createElement(T.Fragment,null,T.createElement(W,{disabled:!Z,ref:Re,onResize:Kt},T.createElement(je,{getTriggerDOMNode:z},an)),tn.current&&T.createElement(Me.Provider,{value:Ce},T.createElement(Ae,{portal:e,ref:ke,prefixCls:s,popup:se,className:(0,Ye.default)(ce,It),style:le,target:J,onMouseEnter:$t,onMouseLeave:en,onPointerEnter:$t,zIndex:A,open:Z,keepDom:ot,fresh:pe,onClick:me,onPointerDownCapture:Xt,mask:w,motion:Ve,maskMotion:He,onVisibleChanged:qt,onPrepare:Jt,forceRender:ae,autoDestroy:ye,getPopupContainer:ie,align:Dt,arrow:sn,arrowPos:on,ready:vt,offsetX:yt,offsetY:bt,offsetR:xt,offsetB:St,onAlign:Ft,stretch:j,targetWidth:zt/Tt,targetHeight:Ut/Et})))})}var Z=Ze(te);export{G as n,W as r,Z as t};